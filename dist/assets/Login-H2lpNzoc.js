import{a as k}from"./axios-CCb-kr4I.js";import{f as h,g as o,j as t,a1 as s,e as V,B as a,D as f,A as C,J as p,E as T}from"./@vue-C1_HKBMx.js";import{_ as v}from"./index-DMSs4jwp.js";import"./pinia-DoMM712Q.js";import"./bootstrap-CJ3D_gRJ.js";import"./@popperjs-WhmJkuoZ.js";import"./bootstrap-vue-3-C4nBWjFx.js";import"./vue-router-yQ3pcn0R.js";import"./vue-chartjs-CXOf9EPh.js";import"./chart.js-BuLztui6.js";import"./@kurkle-BZxJdD1U.js";import"./vue-toastification-COUycyGz.js";/* empty css                        *//* empty css                     */import"./@vuepic-DXhf3Elp.js";const S={data(){return{email:"",password:"",errorMessage:"",passwordFieldType:"password"}},methods:{setCookie(i,e,d){const m=new Date(Date.now()+d*864e5).toUTCString();document.cookie=`${i}=${e}; expires=${m}; path=/`},async login(){try{const i=await k.post("/api/auth/login",{email:this.email,password:this.password});this.setCookie("token",i.data.token,7),this.$router.push("/")}catch{this.errorMessage="Invalid credentials"}},togglePasswordVisibility(){this.passwordFieldType=this.passwordFieldType==="password"?"text":"password"},goToRegister(){this.$router.push({name:"Register"})}}},F={class:"login-page d-flex justify-content-center align-items-center"},M={class:"text-danger"};function D(i,e,d,m,r,n){const u=s("b-form-input"),c=s("b-form-group"),_=s("b-button"),g=s("b-input-group-append"),w=s("b-input-group"),b=s("b-link"),y=s("b-form"),x=s("b-card");return V(),h("div",F,[o(x,{class:"shadow-lg p-5 mb-5 bg-white rounded text-center",style:{"max-width":"400px"}},{default:t(()=>[e[5]||(e[5]=a("h1",{class:"title mb-4"},"Time Manager",-1)),e[6]||(e[6]=a("h2",{class:"subtitle mb-4"},"Login",-1)),o(y,{onSubmit:f(n.login,["prevent"])},{default:t(()=>[o(c,{label:"EMAIL","label-for":"email-input"},{default:t(()=>[o(u,{id:"email-input",modelValue:r.email,"onUpdate:modelValue":e[0]||(e[0]=l=>r.email=l),type:"email",placeholder:"Enter your email",required:""},null,8,["modelValue"])]),_:1}),o(c,{label:"PASSWORD","label-for":"password-input"},{default:t(()=>[o(w,null,{default:t(()=>[o(u,{id:"password-input",modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=l=>r.password=l),type:r.passwordFieldType,placeholder:"Enter your password",required:""},null,8,["modelValue","type"]),o(g,null,{default:t(()=>[o(_,{onClick:n.togglePasswordVisibility,variant:"outline-secondary"},{default:t(()=>[a("i",{class:C(r.passwordFieldType==="password"?"fas fa-eye":"fas fa-eye-slash")},null,2)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),o(b,{class:"d-block mb-3 text-muted",href:"#"},{default:t(()=>e[2]||(e[2]=[p("Forgot your password?")])),_:1}),o(_,{type:"submit",variant:"success",class:"login-btn mb-3"},{default:t(()=>e[3]||(e[3]=[p(" LOGIN ")])),_:1}),o(b,{class:"d-block text-muted",onClick:f(n.goToRegister,["prevent"])},{default:t(()=>e[4]||(e[4]=[p("New user? Signup")])),_:1},8,["onClick"]),a("p",M,T(r.errorMessage),1)]),_:1},8,["onSubmit"])]),_:1})])}const W=v(S,[["render",D],["__scopeId","data-v-3ac1af13"]]);export{W as default};
